# Honey Agent Tools

ä¸€ä¸ªåŸºäº Tauri + React + TypeScript çš„æ¡Œé¢åº”ç”¨ï¼Œæä¾›å¿«æ·çš„è¾“å…¥æ¡†å’Œçµæ´»çš„å¿«æ·é”®é…ç½®åŠŸèƒ½ã€‚

## æŠ€æœ¯æ ˆ

| æŠ€æœ¯                               | ç‰ˆæœ¬   | ç”¨é€”             |
| ---------------------------------- | ------ | ---------------- |
| React                              | 19.1.0 | å‰ç«¯æ¡†æ¶         |
| TypeScript                         | 5.8.3  | ç±»å‹ç³»ç»Ÿ         |
| Tauri                              | 2.0.0  | æ¡Œé¢åº”ç”¨æ¡†æ¶     |
| Zustand                            | 5.0.9  | çŠ¶æ€ç®¡ç†         |
| Tailwind CSS                       | 4.1.18 | CSS æ¡†æ¶         |
| Biome                              | 2.3.8  | ä»£ç è§„èŒƒå’Œæ ¼å¼åŒ– |
| @tauri-apps/plugin-global-shortcut | 2.3.1  | å…¨å±€å¿«æ·é”®æ”¯æŒ   |

## é¡¹ç›®ç»“æ„

```
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/          # ç»„ä»¶ç›®å½•
â”‚   â”‚   â”œâ”€â”€ Settings.tsx     # è®¾ç½®é¡µé¢ç»„ä»¶
â”‚   â”‚   â””â”€â”€ ShortcutItem.tsx # å¿«æ·é”®é…ç½®é¡¹ç»„ä»¶
â”‚   â”œâ”€â”€ hooks/               # è‡ªå®šä¹‰ Hooks
â”‚   â”‚   â””â”€â”€ useShortcut.ts   # å¿«æ·é”®ç›‘å¬ Hook
â”‚   â”œâ”€â”€ store/               # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ appStore.ts      # åº”ç”¨çŠ¶æ€
â”‚   â”‚   â””â”€â”€ shortcutStore.ts # å¿«æ·é”®é…ç½®
â”‚   â”œâ”€â”€ types/               # ç±»å‹å®šä¹‰
â”‚   â”‚   â””â”€â”€ shortcut.ts      # å¿«æ·é”®ç›¸å…³ç±»å‹
â”‚   â”œâ”€â”€ utils/               # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ logger.ts        # ç¯å¢ƒæ„ŸçŸ¥çš„æ—¥å¿—å·¥å…·
â”‚   â”œâ”€â”€ App.tsx              # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ index.css            # å…¨å±€æ ·å¼ï¼ˆTailwind 4 é…ç½®ï¼‰
â”‚   â””â”€â”€ main.tsx             # åº”ç”¨å…¥å£
â”œâ”€â”€ src-tauri/               # Tauri ç›¸å…³ä»£ç 
â”‚   â”œâ”€â”€ src/                 # Rust æºä»£ç 
â”‚   â”‚   â”œâ”€â”€ lib.rs           # ä¸»é€»è¾‘ï¼ˆçª—å£ç®¡ç†å‘½ä»¤ï¼‰
â”‚   â”‚   â””â”€â”€ main.rs          # å…¥å£æ–‡ä»¶
â”‚   â””â”€â”€ tauri.conf.json      # Tauri é…ç½®æ–‡ä»¶
â”œâ”€â”€ .biomeignore             # Biome å¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ biome.json               # Biome é…ç½®
â”œâ”€â”€ postcss.config.js        # PostCSS é…ç½®
â””â”€â”€ package.json             # é¡¹ç›®ä¾èµ–å’Œè„šæœ¬
```

## æ ¸å¿ƒåŠŸèƒ½

### 1. å¿«æ·é”®ç³»ç»Ÿ âŒ¨ï¸

#### è®¾è®¡æ€è·¯

- é‡‡ç”¨ Zustand ç®¡ç†å¿«æ·é”®é…ç½®ï¼Œæ”¯æŒæŒä¹…åŒ–å­˜å‚¨
- ä½¿ç”¨ Tauri çš„ `@tauri-apps/plugin-global-shortcut` å®ç°å…¨å±€å¿«æ·é”®ç›‘å¬
- æ”¯æŒåŠ¨æ€æ³¨å†Œå’Œæ›´æ–°å¿«æ·é”®ï¼Œä¿®æ”¹åç«‹å³ç”Ÿæ•ˆ
- çŠ¶æ€æœºæ¨¡å¼é˜²æ­¢å¿«æ·é”®é‡å¤è§¦å‘ï¼ˆæŒ‰ä¸‹/æ¾å¼€éƒ½ä¼šè§¦å‘çš„é—®é¢˜ï¼‰

#### å®ç°ç»†èŠ‚

##### çŠ¶æ€ç®¡ç† (`shortcutStore.ts`)

- ä½¿ç”¨ Zustand å’Œ persist ä¸­é—´ä»¶ï¼Œå°†å¿«æ·é”®é…ç½®ä¿å­˜åˆ° localStorage
- **ç‰ˆæœ¬æ§åˆ¶æœºåˆ¶**ï¼šæ¯æ¬¡æ›´æ–°å¿«æ·é”®æ—¶é€’å¢ `version` å­—æ®µï¼Œè§¦å‘è‡ªåŠ¨é‡æ–°æ³¨å†Œ
- æ”¯æŒé‡ç½®ä¸ºé»˜è®¤é…ç½®

```typescript
interface ShortcutStore {
  shortcuts: ShortcutConfig;
  version: number; // ç”¨äºè§¦å‘é‡æ–°æ³¨å†Œ
  updateShortcut: (action: string, key: string, modifiers: string[]) => void;
  resetShortcuts: () => void;
}
```

##### å¿«æ·é”®ç›‘å¬ (`useShortcut.ts`)

- **çŠ¶æ€æœºæ¨¡å¼**ï¼šé€šè¿‡ `keyPressState` Map è¿½è¸ªæ¯ä¸ªå¿«æ·é”®çš„æŒ‰ä¸‹/æ¾å¼€çŠ¶æ€
  - ç¬¬ä¸€æ¬¡è§¦å‘ï¼ˆæŒ‰ä¸‹ï¼‰â†’ æ‰§è¡Œæ“ä½œ
  - ç¬¬äºŒæ¬¡è§¦å‘ï¼ˆæ¾å¼€ï¼‰â†’ å¿½ç•¥
  - ç¬¬ä¸‰æ¬¡è§¦å‘ï¼ˆå†æ¬¡æŒ‰ä¸‹ï¼‰â†’ æ‰§è¡Œæ“ä½œ
- **è‡ªåŠ¨é‡æ–°æ³¨å†Œ**ï¼šç›‘å¬ `version` å˜åŒ–ï¼Œå¿«æ·é”®é…ç½®æ›´æ–°åè‡ªåŠ¨é‡æ–°æ³¨å†Œ
- **Hot Reload å‹å¥½**ï¼šä¸åœ¨ cleanup ä¸­æ³¨é”€å¿«æ·é”®ï¼Œé¿å…å¼€å‘æ—¶ hot reload å¯¼è‡´å¿«æ·é”®å¤±æ•ˆ
- **å•ä¾‹æ¨¡å¼**ï¼šä½¿ç”¨å…¨å±€ `globalShortcutManager` ç¡®ä¿å¿«æ·é”®åªè¢«æ³¨å†Œä¸€æ¬¡

##### é»˜è®¤å¿«æ·é”®

- `Cmd+Shift+Space`ï¼šæ˜¾ç¤º/éšè—ä¸»çª—å£
- `Cmd+Shift+S`ï¼šæ‰“å¼€è®¾ç½®é¡µé¢
- `Escape`ï¼šå…³é—­çª—å£

#### å…³é”®é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

**é—®é¢˜ 1ï¼šå¿«æ·é”®è¢«è§¦å‘ä¸¤æ¬¡**

- **åŸå› **ï¼šTauri å…¨å±€å¿«æ·é”®åœ¨æŒ‰ä¸‹å’Œæ¾å¼€æ—¶éƒ½ä¼šè§¦å‘å›è°ƒ
- **è§£å†³æ–¹æ¡ˆ**ï¼šä½¿ç”¨çŠ¶æ€æœºæ¨¡å¼ï¼Œç¬¬ä¸€æ¬¡è§¦å‘æ‰§è¡Œï¼Œç¬¬äºŒæ¬¡è§¦å‘å¿½ç•¥

**é—®é¢˜ 2ï¼šä¿®æ”¹å¿«æ·é”®åéœ€è¦åˆ·æ–°æ‰èƒ½ç”Ÿæ•ˆ**

- **åŸå› **ï¼šå¿«æ·é”®é…ç½®æ›´æ–°åæ²¡æœ‰è‡ªåŠ¨é‡æ–°æ³¨å†Œ
- **è§£å†³æ–¹æ¡ˆ**ï¼šæ·»åŠ  `version` å­—æ®µï¼Œé…ç½®å˜åŒ–æ—¶é€’å¢ç‰ˆæœ¬å·ï¼Œ`useEffect` ç›‘å¬ç‰ˆæœ¬å˜åŒ–è§¦å‘é‡æ–°æ³¨å†Œ

**é—®é¢˜ 3ï¼šHot Reload åå¿«æ·é”®å¤±æ•ˆ**

- **åŸå› **ï¼š`useEffect` cleanup ä¸­è°ƒç”¨ `cleanupShortcuts()` å¯¼è‡´å¿«æ·é”®è¢«æ³¨é”€
- **è§£å†³æ–¹æ¡ˆ**ï¼šç§»é™¤ cleanup ä¸­çš„å¿«æ·é”®æ³¨é”€é€»è¾‘ï¼Œåªåœ¨é‡æ–°æ³¨å†Œå‰æ¸…ç†

### 2. ä¸»çª—å£è®¾è®¡ ğŸªŸ

#### è®¾è®¡æ€è·¯

- ä»¥è¾“å…¥æ¡†ä¸ºæ ¸å¿ƒï¼Œç®€æ´é«˜æ•ˆ
- æ”¯æŒé€šè¿‡å¿«æ·é”®å‘¼å‡º/éšè—
- ç‚¹å‡»çª—å£å¤–éƒ¨æˆ–æŒ‰ Escape è‡ªåŠ¨å…³é—­
- é€æ˜èƒŒæ™¯ï¼Œæ— è¾¹æ¡†è®¾è®¡
- **åŠ¨æ€çª—å£é«˜åº¦**ï¼šæ ¹æ®å†…å®¹è‡ªåŠ¨è°ƒæ•´çª—å£å¤§å°

#### å®ç°ç»†èŠ‚

##### çª—å£çŠ¶æ€ç®¡ç† (`appStore.ts`)

- ç®¡ç†çª—å£çš„æ˜¾ç¤º/éšè—çŠ¶æ€ï¼ˆ`isWindowVisible`ï¼‰
- ç®¡ç†è®¾ç½®é¢æ¿çš„æ‰“å¼€/å…³é—­çŠ¶æ€ï¼ˆ`isSettingsOpen`ï¼‰
- æä¾› Tauri å‘½ä»¤è°ƒç”¨æ¥å£ï¼ˆ`toggleWindow`, `showWindow`, `hideWindow`ï¼‰

##### åŠ¨æ€çª—å£é«˜åº¦ (`App.tsx`)

ä½¿ç”¨ `ResizeObserver` ç›‘å¬å†…å®¹é«˜åº¦å˜åŒ–ï¼Œè‡ªåŠ¨è°ƒç”¨ Tauri çš„ `set_window_size` å‘½ä»¤ï¼š

```typescript
useEffect(() => {
  if (!contentRef.current) return;

  const resizeObserver = new ResizeObserver((entries) => {
    for (const entry of entries) {
      const height = entry.contentRect.height;
      const width = 600;
      invoke("set_window_size", { width, height });
    }
  });

  resizeObserver.observe(contentRef.current);
  return () => resizeObserver.disconnect();
}, []);
```

##### äº¤äº’é€»è¾‘

- è¾“å…¥å®ŒæˆåæŒ‰ Enter é”®æäº¤
- ç‚¹å‡»çª—å£å¤–éƒ¨è‡ªåŠ¨å…³é—­
- æŒ‰ Escape é”®å…³é—­çª—å£
- å¹³æ»‘çš„æ˜¾ç¤º/éšè—åŠ¨ç”»ï¼ˆä½¿ç”¨ Tailwind CSS transitionï¼‰

### 3. è®¾ç½®é¡µé¢ âš™ï¸

#### è®¾è®¡æ€è·¯

- å¯è§†åŒ–çš„å¿«æ·é”®é…ç½®ç•Œé¢
- æ”¯æŒä¿®é¥°é”®ï¼ˆCmdã€Ctrlã€Shiftã€Altï¼‰çš„ç»„åˆ
- **å¿«æ·é”®å†²çªæ£€æµ‹**ï¼šé˜²æ­¢è®¾ç½®é‡å¤çš„å¿«æ·é”®
- **è¾“å…¥éªŒè¯**ï¼šåªå…è®¸æœ‰æ•ˆçš„é”®åï¼ˆA-Zã€0-9ã€Spaceã€Enter ç­‰ï¼‰
- å®æ—¶ä¿å­˜é…ç½®
- æ”¯æŒé‡ç½®ä¸ºé»˜è®¤å€¼

#### å®ç°ç»†èŠ‚

##### ç»„ä»¶è®¾è®¡

- **`Settings.tsx`**ï¼šè®¾ç½®é¡µé¢ä¸»ç»„ä»¶
  - å¿«æ·é”®å†²çªæ£€æµ‹é€»è¾‘
  - è¾“å…¥éªŒè¯é€»è¾‘ï¼ˆ`VALID_KEYS` åˆ—è¡¨ï¼‰
- **`ShortcutItem.tsx`**ï¼šå¯å¤ç”¨çš„å¿«æ·é”®é…ç½®é¡¹ç»„ä»¶
  - å°è£…ç¼–è¾‘é€»è¾‘å’Œ UI
  - å‡å°‘ä»£ç é‡å¤ï¼ˆé‡æ„åå‡å°‘äº† 66 è¡Œä»£ç ï¼‰

##### å†²çªæ£€æµ‹

```typescript
const checkConflict = (
  action: string,
  key: string,
  modifiers: string[]
): boolean => {
  const newAccelerator = `${modifiers.join("+")}+${key}`;

  for (const [existingAction, shortcut] of Object.entries(shortcuts)) {
    if (existingAction === action) continue;
    const existingAccelerator = `${shortcut.modifiers.join("+")}+${
      shortcut.key
    }`;
    if (existingAccelerator === newAccelerator) return true;
  }
  return false;
};
```

##### è¾“å…¥éªŒè¯

```typescript
const VALID_KEYS = [
  'A', 'B', 'C', ..., 'Z',  // å­—æ¯
  '0', '1', ..., '9',        // æ•°å­—
  'Space', 'Enter', 'Tab', 'Escape',  // ç‰¹æ®Šé”®
  'F1', 'F2', ..., 'F12'     // åŠŸèƒ½é”®
]
```

## æ ·å¼ç³»ç»Ÿ ğŸ¨

### Tailwind CSS 4 é…ç½®

é¡¹ç›®ä½¿ç”¨æœ€æ–°çš„ Tailwind CSS 4ï¼Œé…ç½®æ–¹å¼ä¸ v3 æœ‰é‡å¤§å˜åŒ–ï¼š

#### é…ç½®æ–‡ä»¶ (`index.css`)

ä½¿ç”¨æ–°çš„ `@theme` è¯­æ³•å®šä¹‰è‡ªå®šä¹‰é¢œè‰²å’ŒåŠ¨ç”»ï¼š

```css
@import "tailwindcss";

@theme {
  /* è‡ªå®šä¹‰é¢œè‰² */
  --color-primary: #3b82f6;
  --color-secondary: #2563eb;

  /* åŠ¨ç”» */
  --animate-slide-in: slideIn 0.2s ease-out;
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
```

> âš ï¸ **æ³¨æ„**ï¼šTailwind 4 ä¸å†éœ€è¦ `tailwind.config.js` æ–‡ä»¶ï¼Œæ‰€æœ‰é…ç½®éƒ½åœ¨ CSS ä¸­å®Œæˆï¼

#### PostCSS é…ç½®

```javascript
export default {
  plugins: {
    "@tailwindcss/postcss": {},
    autoprefixer: {},
  },
};
```

## æ—¥å¿—ç³»ç»Ÿ ğŸ“

### ç¯å¢ƒæ„ŸçŸ¥çš„æ—¥å¿—å·¥å…· (`logger.ts`)

ä¸ºäº†ä¼˜åŒ–ç”Ÿäº§ç¯å¢ƒæ€§èƒ½å’Œå®‰å…¨æ€§ï¼Œåˆ›å»ºäº†ç¯å¢ƒæ„ŸçŸ¥çš„æ—¥å¿—å·¥å…·ï¼š

```typescript
const isDev = import.meta.env.DEV;

export const logger = {
  log: (...args) => isDev && console.log(...args), // ä»…å¼€å‘ç¯å¢ƒ
  warn: (...args) => isDev && console.warn(...args), // ä»…å¼€å‘ç¯å¢ƒ
  error: (...args) => console.error(...args), // å§‹ç»ˆè®°å½•
  info: (...args) => isDev && console.info(...args), // ä»…å¼€å‘ç¯å¢ƒ
};
```

**ä½¿ç”¨ç¤ºä¾‹**ï¼š

```typescript
// âŒ ä¸æ¨èï¼šç›´æ¥ä½¿ç”¨ console
console.log("è°ƒè¯•ä¿¡æ¯");

// âœ… æ¨èï¼šä½¿ç”¨ logger
logger.log("è°ƒè¯•ä¿¡æ¯");
```

**ä¼˜åŠ¿**ï¼š

- å¼€å‘ç¯å¢ƒï¼šæ˜¾ç¤ºè¯¦ç»†çš„è°ƒè¯•ä¿¡æ¯
- ç”Ÿäº§ç¯å¢ƒï¼šåªæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ï¼Œå‡å°‘æ—¥å¿—è¾“å‡º
- æå‡æ€§èƒ½å’Œå®‰å…¨æ€§

## Rust åç«¯ ğŸ¦€

### çª—å£ç®¡ç†å‘½ä»¤ (`lib.rs`)

æä¾›äº†ä»¥ä¸‹ Tauri å‘½ä»¤ä¾›å‰ç«¯è°ƒç”¨ï¼š

```rust
#[tauri::command]
async fn show_window(window: tauri::Window) -> Result<(), String>

#[tauri::command]
async fn hide_window(window: tauri::Window) -> Result<(), String>

#[tauri::command]
async fn toggle_window_visibility(window: tauri::Window) -> Result<(), String>

#[tauri::command]
async fn set_window_size(window: tauri::Window, width: f64, height: f64) -> Result<(), String>
```

**å…³é”®å®ç°**ï¼š

- `show_window` / `hide_window`ï¼šæ˜¾ç¤º/éšè—çª—å£
- `toggle_window_visibility`ï¼šåˆ‡æ¢çª—å£å¯è§æ€§ï¼ˆå…ˆæ£€æŸ¥å½“å‰çŠ¶æ€å†æ“ä½œï¼‰
- `set_window_size`ï¼šåŠ¨æ€è°ƒæ•´çª—å£å¤§å°ï¼ˆæ”¯æŒå‰ç«¯å†…å®¹è‡ªé€‚åº”ï¼‰

## ä»£ç è§„èŒƒ âœ¨

### Biome é…ç½®

ä½¿ç”¨ Biome è¿›è¡Œä»£ç æ£€æŸ¥å’Œæ ¼å¼åŒ–ï¼Œé…ç½®æ–‡ä»¶ `biome.json`ï¼š

```json
{
  "$schema": "https://biomejs.dev/schemas/2.3.8/schema.json",
  "formatter": {
    "enabled": true,
    "indentStyle": "space",
    "indentWidth": 2,
    "lineWidth": 100
  },
  "linter": {
    "enabled": true,
    "rules": {
      "recommended": true,
      "a11y": {
        "noAutofocus": "off" // å…è®¸ autoFocus
      },
      "suspicious": {
        "noExplicitAny": "off" // å…è®¸ anyï¼ˆwindow å¯¹è±¡éœ€è¦ï¼‰
      }
    }
  },
  "javascript": {
    "formatter": {
      "quoteStyle": "single",
      "trailingCommas": "all",
      "semicolons": "asNeeded"
    }
  }
}
```

### .biomeignore

æ’é™¤ä¸éœ€è¦æ£€æŸ¥çš„æ–‡ä»¶ï¼š

```
src/index.css
**/*.css
```

> ğŸ’¡ **æç¤º**ï¼šBiome ç›®å‰ä¸æ”¯æŒ Tailwind 4 çš„ `@theme` è¯­æ³•ï¼Œæ‰€ä»¥éœ€è¦å¿½ç•¥ CSS æ–‡ä»¶ã€‚

### è„šæœ¬å‘½ä»¤

```json
{
  "scripts": {
    "dev": "vite",
    "build": "tsc && vite build",
    "preview": "vite preview",
    "tauri": "tauri",
    "format": "biome format ./src --write",
    "lint": "biome lint ./src",
    "lint:fix": "biome lint ./src --write"
  }
}
```

### ä¸ºä»€ä¹ˆåªæ£€æŸ¥ src ç›®å½•ï¼Ÿ

1. **æé«˜é€Ÿåº¦**ï¼šåªæ£€æŸ¥æºä»£ç ç›®å½•å¯ä»¥å¤§å¤§æé«˜ Biome çš„è¿è¡Œé€Ÿåº¦ï¼Œé¿å…æ£€æŸ¥å¤§é‡çš„ä¾èµ–æ–‡ä»¶å’Œæ„å»ºäº§ç‰©
2. **å‡å°‘å™ªéŸ³**ï¼šé¿å…æ£€æŸ¥ä¸é¡¹ç›®å¼€å‘æ— å…³çš„æ–‡ä»¶ï¼Œå‡å°‘ä¸å¿…è¦çš„é”™è¯¯å’Œè­¦å‘Š
3. **é’ˆå¯¹æ€§å¼º**ï¼šåªå…³æ³¨é¡¹ç›®çš„æ ¸å¿ƒä»£ç ï¼Œç¡®ä¿æºä»£ç ç¬¦åˆè§„èŒƒ
4. **å¼€å‘å‹å¥½**ï¼šå¿«é€Ÿçš„æ£€æŸ¥åé¦ˆæœ‰åŠ©äºåœ¨å¼€å‘è¿‡ç¨‹ä¸­ä¿æŒä»£ç è´¨é‡

å»ºè®®åœ¨å¼€å‘è¿‡ç¨‹ä¸­å®šæœŸè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```bash
# æ£€æŸ¥æºä»£ç è§„èŒƒ
pnpm run lint

# è‡ªåŠ¨ä¿®å¤è§„èŒƒé—®é¢˜
pnpm run lint:fix

# æ ¼å¼åŒ–æºä»£ç 
pnpm run format
```

## å¼€å‘å’Œæ„å»º ğŸ› ï¸

### å¼€å‘

```bash
# å®‰è£…ä¾èµ–
pnpm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆæ”¯æŒ hot reloadï¼‰
pnpm tauri dev
```

### æ„å»º

```bash
# æ„å»ºå‰ç«¯
pnpm run build

# æ‰“åŒ… Tauri åº”ç”¨
pnpm tauri build
```

## ä½¿ç”¨è¯´æ˜ ğŸ“–

### 1. å¿«æ·é”®

| åŠŸèƒ½            | é»˜è®¤å¿«æ·é”®      | è¯´æ˜                       |
| --------------- | --------------- | -------------------------- |
| æ˜¾ç¤º/éšè—ä¸»çª—å£ | Cmd+Shift+Space | å‘¼å‡ºæˆ–éšè—åº”ç”¨çš„ä¸»è¾“å…¥çª—å£ |
| æ‰“å¼€è®¾ç½®        | Cmd+Shift+S     | æ‰“å¼€å¿«æ·é”®é…ç½®é¡µé¢         |
| å…³é—­çª—å£        | Escape          | å…³é—­å½“å‰çª—å£               |

> ğŸ’¡ **æç¤º**ï¼šæ‰€æœ‰å¿«æ·é”®éƒ½å¯ä»¥åœ¨è®¾ç½®é¡µé¢è‡ªå®šä¹‰ï¼

### 2. ä¸»çª—å£

- è¾“å…¥å†…å®¹åæŒ‰ Enter é”®æäº¤
- æäº¤åçª—å£è‡ªåŠ¨å…³é—­
- ç‚¹å‡»çª—å£å¤–éƒ¨æˆ–æŒ‰ Escape ä¹Ÿå¯ä»¥å…³é—­çª—å£
- çª—å£é«˜åº¦ä¼šæ ¹æ®å†…å®¹è‡ªåŠ¨è°ƒæ•´

### 3. è®¾ç½®é¡µé¢

- ç‚¹å‡»å¿«æ·é”®å³ä¾§çš„ "Edit" æŒ‰é’®è¿›è¡Œç¼–è¾‘
- é€‰æ‹©ä¿®é¥°é”®ï¼ˆCmdã€Ctrlã€Shiftã€Altï¼‰
- è¾“å…¥å•ä¸ªå­—æ¯ã€æ•°å­—æˆ–ç‰¹æ®Šé”®ä½œä¸ºå¿«æ·é”®
- ç‚¹å‡» "Save" ä¿å­˜ï¼Œ"Cancel" å–æ¶ˆç¼–è¾‘
- ç‚¹å‡» "Reset to Defaults" æ¢å¤é»˜è®¤å¿«æ·é”®

**é™åˆ¶**ï¼š

- å¿…é¡»è‡³å°‘é€‰æ‹©ä¸€ä¸ªä¿®é¥°é”®
- åªèƒ½ä½¿ç”¨æœ‰æ•ˆçš„é”®åï¼ˆA-Zã€0-9ã€Spaceã€Enterã€Tabã€Escapeã€F1-F12ï¼‰
- ä¸èƒ½è®¾ç½®ä¸å…¶ä»–åŠŸèƒ½å†²çªçš„å¿«æ·é”®

## å¸¸è§é—®é¢˜ â“

### 1. åº”ç”¨å¯åŠ¨åæ˜¾ç¤ºç°è‰²çª—å£

**åŸå› **ï¼šçª—å£é…ç½®æˆ–æ ·å¼é—®é¢˜

**è§£å†³æ–¹æ¡ˆ**ï¼š

- æ£€æŸ¥ `tauri.conf.json` ä¸­çš„çª—å£é…ç½®
- ç¡®ä¿ `transparent: true` å’Œ `decorations: false` å·²æ­£ç¡®è®¾ç½®
- æ£€æŸ¥ CSS æ ·å¼ï¼Œç¡®ä¿èƒŒæ™¯è‰²ä¸ºé€æ˜

### 2. å¿«æ·é”®ä¸ç”Ÿæ•ˆ

**å¯èƒ½åŸå› **ï¼š

- å¿«æ·é”®ä¸ç³»ç»Ÿæˆ–å…¶ä»–åº”ç”¨å†²çª
- æ’ä»¶æœªæ­£ç¡®å®‰è£…æˆ–é…ç½®
- ä»£ç é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**ï¼š

1. å°è¯•ä¿®æ”¹å¿«æ·é”®ï¼ˆé¿å…ä¸ç³»ç»Ÿå¿«æ·é”®å†²çªï¼‰
2. æ£€æŸ¥ `src-tauri/Cargo.toml` ä¸­æ˜¯å¦æ·»åŠ äº† `tauri-plugin-global-shortcut` ä¾èµ–
3. æ£€æŸ¥æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯æ—¥å¿—
4. å°è¯•é‡å¯åº”ç”¨

### 3. Hot Reload åå¿«æ·é”®å¤±æ•ˆ

**åŸå› **ï¼šå·²ä¿®å¤ï¼ä¹‹å‰ç‰ˆæœ¬å­˜åœ¨è¿™ä¸ªé—®é¢˜ã€‚

**å½“å‰çŠ¶æ€**ï¼šâœ… å·²é€šè¿‡ä¼˜åŒ– `useShortcut.ts` çš„ cleanup é€»è¾‘ä¿®å¤ï¼Œhot reload ä¸ä¼šå½±å“å¿«æ·é”®ã€‚

### 4. å¿«æ·é”®è¢«è§¦å‘ä¸¤æ¬¡

**åŸå› **ï¼šå·²ä¿®å¤ï¼Tauri å…¨å±€å¿«æ·é”®åœ¨æŒ‰ä¸‹å’Œæ¾å¼€æ—¶éƒ½ä¼šè§¦å‘ã€‚

**å½“å‰çŠ¶æ€**ï¼šâœ… å·²é€šè¿‡çŠ¶æ€æœºæ¨¡å¼ä¿®å¤ï¼Œåªåœ¨æŒ‰ä¸‹æ—¶æ‰§è¡Œæ“ä½œã€‚

### 5. ä¿®æ”¹å¿«æ·é”®åéœ€è¦åˆ·æ–°æ‰èƒ½ç”Ÿæ•ˆ

**åŸå› **ï¼šå·²ä¿®å¤ï¼ä¹‹å‰ç‰ˆæœ¬éœ€è¦æ‰‹åŠ¨åˆ·æ–°ã€‚

**å½“å‰çŠ¶æ€**ï¼šâœ… å·²é€šè¿‡ç‰ˆæœ¬æ§åˆ¶æœºåˆ¶ä¿®å¤ï¼Œä¿®æ”¹åç«‹å³ç”Ÿæ•ˆã€‚

### 6. æ„å»ºå¤±è´¥

**å¯èƒ½åŸå› **ï¼š

- TypeScript é”™è¯¯
- Tailwind CSS é…ç½®é”™è¯¯
- ä¾èµ–é—®é¢˜

**è§£å†³æ–¹æ¡ˆ**ï¼š

1. è¿è¡Œ `pnpm run build` æŸ¥çœ‹è¯¦ç»†é”™è¯¯ä¿¡æ¯
2. æ£€æŸ¥ TypeScript é”™è¯¯ï¼š`tsc --noEmit`
3. ç¡®è®¤ Tailwind CSS å’Œ PostCSS é…ç½®æ­£ç¡®
4. æ¸…ç†å¹¶é‡æ–°å®‰è£…ä¾èµ–ï¼š`rm -rf node_modules && pnpm install`

### 7. CSS Lint è­¦å‘Šï¼šUnknown at rule @theme

**åŸå› **ï¼šBiome ç›®å‰ä¸æ”¯æŒ Tailwind 4 çš„ `@theme` è¯­æ³•

**è§£å†³æ–¹æ¡ˆ**ï¼šå·²é€šè¿‡ `.biomeignore` æ’é™¤ CSS æ–‡ä»¶æ£€æŸ¥ã€‚è¿™ä¸å½±å“åŠŸèƒ½ï¼Œé¢œè‰²å®šä¹‰å·¥ä½œæ­£å¸¸ã€‚

## æ‰©å±•æŒ‡å— ğŸ”§

### æ·»åŠ æ–°çš„å¿«æ·é”®

1. **å®šä¹‰ç±»å‹** (`src/types/shortcut.ts`)ï¼š

   ```typescript
   export type ShortcutAction =
     | "toggleWindow"
     | "openSettings"
     | "yourNewAction";
   ```

2. **æ·»åŠ é»˜è®¤é…ç½®** (`src/store/shortcutStore.ts`)ï¼š

   ```typescript
   const defaultShortcuts: ShortcutConfig = {
     // ...existing shortcuts
     yourNewAction: {
       key: "N",
       modifiers: ["Cmd", "Shift"],
     },
   };
   ```

3. **æ³¨å†Œå¿«æ·é”®** (`src/hooks/useShortcut.ts`)ï¼š

   ```typescript
   // åœ¨ registerShortcuts å‡½æ•°ä¸­æ·»åŠ 
   await register(yourNewAccelerator, async () => {
     // ä½ çš„é€»è¾‘
     await yourAction();
   });
   ```

4. **åœ¨è®¾ç½®é¡µé¢æ·»åŠ é…ç½®é¡¹** (`src/components/Settings.tsx`)ï¼š
   ```tsx
   <ShortcutItem
     title="Your New Action"
     description="Description of your action"
     currentKey={shortcuts.yourNewAction.key}
     currentModifiers={shortcuts.yourNewAction.modifiers}
     onSave={(key, modifiers) =>
       handleSaveShortcut("yourNewAction", key, modifiers)
     }
   />
   ```

### è‡ªå®šä¹‰ä¸»é¢˜

åœ¨ `src/index.css` æ–‡ä»¶ä¸­çš„ `@theme` å—ä¸­ä¿®æ”¹ï¼š

```css
@theme {
  /* ä¿®æ”¹ä¸»è‰²è°ƒ */
  --color-primary: #your-color;
  --color-secondary: #your-color;

  /* æ·»åŠ æ–°é¢œè‰² */
  --color-accent: #your-color;
  --color-warning: #your-color;

  /* æ·»åŠ æ–°åŠ¨ç”» */
  --animate-fade-in: fadeIn 0.3s ease-in;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}
```

### æ·»åŠ æ–°åŠŸèƒ½

1. **åˆ›å»ºç»„ä»¶æˆ–é¡µé¢**ï¼šåœ¨ `src/components/` ä¸­åˆ›å»ºæ–°ç»„ä»¶
2. **æ·»åŠ çŠ¶æ€ç®¡ç†**ï¼šåœ¨ `src/store/` ä¸­åˆ›å»ºæˆ–æ‰©å±• store
3. **æ·»åŠ å¿«æ·é”®**ï¼šæŒ‰ç…§"æ·»åŠ æ–°çš„å¿«æ·é”®"æ­¥éª¤æ“ä½œ
4. **å®ç°é€»è¾‘**ï¼šåœ¨ç»„ä»¶ä¸­å®ç°åŠŸèƒ½
5. **æ·»åŠ æ ·å¼**ï¼šä½¿ç”¨ Tailwind CSS ç±»å

### Rust åç«¯æ‰©å±•

å¦‚æœéœ€è¦æ·»åŠ æ–°çš„ Tauri å‘½ä»¤ï¼š

1. **å®šä¹‰å‘½ä»¤** (`src-tauri/src/lib.rs`)ï¼š

   ```rust
   #[tauri::command]
   async fn your_command(param: String) -> Result<String, String> {
       // ä½ çš„é€»è¾‘
       Ok("Success".to_string())
   }
   ```

2. **æ³¨å†Œå‘½ä»¤**ï¼š

   ```rust
   .invoke_handler(tauri::generate_handler![
       // ...existing commands
       your_command
   ])
   ```

3. **å‰ç«¯è°ƒç”¨**ï¼š

   ```typescript
   import { invoke } from "@tauri-apps/api/core";

   const result = await invoke("your_command", { param: "value" });
   ```

## æœ€ä½³å®è·µ ğŸ’¡

### 1. æ—¥å¿—è®°å½•

- âœ… ä½¿ç”¨ `logger.log()` è€Œä¸æ˜¯ `console.log()`
- âœ… åœ¨å…³é”®æ“ä½œå‰åè®°å½•æ—¥å¿—
- âœ… ä½¿ç”¨ emoji å‰ç¼€å¢åŠ å¯è¯»æ€§ï¼ˆå¦‚ `ğŸ”§`ã€`âœ…`ã€`âŒ`ï¼‰

### 2. é”™è¯¯å¤„ç†

- âœ… ä½¿ç”¨ try-catch åŒ…è£¹å¼‚æ­¥æ“ä½œ
- âœ… å‘ç”¨æˆ·æ˜¾ç¤ºå‹å¥½çš„é”™è¯¯ä¿¡æ¯
- âœ… è®°å½•è¯¦ç»†çš„é”™è¯¯æ—¥å¿—ä»¥ä¾¿è°ƒè¯•

### 3. æ€§èƒ½ä¼˜åŒ–

- âœ… ä½¿ç”¨ `useCallback` åŒ…è£¹å›è°ƒå‡½æ•°ä»¥é¿å…ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“
- âœ… ä½¿ç”¨ `useMemo` ç¼“å­˜è®¡ç®—ç»“æœ
- âœ… é¿å…åœ¨å¾ªç¯ä¸­åˆ›å»ºå‡½æ•°

### 4. ä»£ç ç»„ç»‡

- âœ… ä¿æŒç»„ä»¶å•ä¸€èŒè´£
- âœ… æå–å¯å¤ç”¨çš„ç»„ä»¶ï¼ˆå¦‚ `ShortcutItem`ï¼‰
- âœ… ä½¿ç”¨ TypeScript ç±»å‹ç¡®ä¿ç±»å‹å®‰å…¨

### 5. å¼€å‘ä½“éªŒ

- âœ… å®šæœŸè¿è¡Œ `pnpm run lint:fix` è‡ªåŠ¨ä¿®å¤ä»£ç è§„èŒƒé—®é¢˜
- âœ… ä½¿ç”¨ `logger` è€Œä¸æ˜¯ `console` ä»¥æ”¯æŒç¯å¢ƒæ„ŸçŸ¥
- âœ… åœ¨ä¿®æ”¹å¿«æ·é”®ç³»ç»Ÿæ—¶ï¼Œæµ‹è¯• hot reload æ˜¯å¦ä»ç„¶æ­£å¸¸

## æŠ€æœ¯å€ºåŠ¡å’Œæ”¹è¿›æ–¹å‘ ğŸš€

### å·²è§£å†³çš„é—®é¢˜ âœ…

- âœ… å¿«æ·é”®é‡å¤è§¦å‘é—®é¢˜ï¼ˆçŠ¶æ€æœºæ¨¡å¼ï¼‰
- âœ… Hot Reload åå¿«æ·é”®å¤±æ•ˆï¼ˆä¼˜åŒ– cleanup é€»è¾‘ï¼‰
- âœ… å¿«æ·é”®ä¿®æ”¹åéœ€è¦åˆ·æ–°ï¼ˆç‰ˆæœ¬æ§åˆ¶æœºåˆ¶ï¼‰
- âœ… å¿«æ·é”®å†²çªæ£€æµ‹
- âœ… è¾“å…¥éªŒè¯
- âœ… ä»£ç é‡å¤ï¼ˆæå– ShortcutItem ç»„ä»¶ï¼‰
- âœ… ç”Ÿäº§ç¯å¢ƒæ—¥å¿—è¿‡å¤šï¼ˆlogger å·¥å…·ï¼‰
- âœ… åŠ¨æ€çª—å£é«˜åº¦

### æœªæ¥æ”¹è¿›æ–¹å‘ ğŸ¯

1. **åŠŸèƒ½å¢å¼º**

   - [ ] æ·»åŠ é”®ç›˜å¿«æ·é”®æç¤º UI
   - [ ] æ”¯æŒå¿«æ·é”®é…ç½®å¯¼å…¥/å¯¼å‡º
   - [ ] æ·»åŠ å†å²è®°å½•åŠŸèƒ½
   - [ ] æ”¯æŒæ’ä»¶ç³»ç»Ÿ

2. **ç”¨æˆ·ä½“éªŒ**

   - [ ] æ·»åŠ æ·±è‰²/æµ…è‰²ä¸»é¢˜åˆ‡æ¢
   - [ ] è‡ªå®šä¹‰çª—å£å®½åº¦
   - [ ] æ›´å¤šåŠ¨ç”»æ•ˆæœ
   - [ ] å¤šè¯­è¨€æ”¯æŒ

3. **æ€§èƒ½ä¼˜åŒ–**

   - [ ] å‡å°‘é‡æ–°æ¸²æŸ“æ¬¡æ•°
   - [ ] ä¼˜åŒ–å¯åŠ¨é€Ÿåº¦
   - [ ] å‡å°æ‰“åŒ…ä½“ç§¯

4. **å¼€å‘ä½“éªŒ**
   - [ ] æ·»åŠ å•å…ƒæµ‹è¯•
   - [ ] æ·»åŠ  E2E æµ‹è¯•
   - [ ] å®Œå–„ CI/CD æµç¨‹
   - [ ] æ·»åŠ æ›´å¤š debug å·¥å…·

## è®¸å¯è¯

MIT

---

> ğŸ‰ **æç¤º**ï¼šè¿™ä¸ªé¡¹ç›®æ˜¯ä¸€ä¸ªæŒç»­è¿­ä»£çš„ç¤ºä¾‹ï¼Œå±•ç¤ºäº†å¦‚ä½•æ„å»ºä¸€ä¸ªç°ä»£åŒ–çš„æ¡Œé¢åº”ç”¨ã€‚æ¬¢è¿æäº¤ PR å’Œ Issueï¼
